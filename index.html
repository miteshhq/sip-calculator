<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIP Calculator - Plan Your Investments</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-emerald-50 min-h-screen flex items-center justify-center p-6">
  <div class="w-full max-w-5xl bg-white shadow-2xl rounded-2xl overflow-hidden">
    <header class="bg-emerald-600 text-white p-6">
      <h1 class="text-3xl font-bold">SIP Investment Calculator</h1>
      <p class="mt-1 text-emerald-200">Estimate SIP returns and track growth over time</p>
    </header><main class="p-8 grid grid-cols-1 lg:grid-cols-4 gap-8">
  <!-- Controls -->
  <section class="lg:col-span-1 space-y-6">
    <div class="flex space-x-2">
      <button id="btnMo" class="flex-1 py-2 text-center bg-yellow-500 text-white font-semibold rounded-lg">Monthly</button>
      <button id="btnYr" class="flex-1 py-2 text-center bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg">Yearly</button>
    </div>
    <div>
      <label for="countNum" class="block text-sm font-medium text-gray-700"># of <span id="countLabel">Months</span></label>
      <input id="countNum" type="number" value="120" min="1" class="mt-2 w-full p-3 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500" />
      <input id="countRng" type="range" min="1" max="360" value="120" class="mt-2 w-full" />
    </div>
    <div>
      <label for="amtNum" class="block text-sm font-medium text-gray-700">Amount per <span id="amountLabel">Month (₹)</span></label>
      <input id="amtNum" type="number" value="5000" min="0" class="mt-2 w-full p-3 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500" />
      <input id="amtRng" type="range" min="0" max="100000" step="500" value="5000" class="mt-2 w-full" />
    </div>
    <div>
      <label for="retNum" class="block text-sm font-medium text-gray-700">Annual Return (%)</label>
      <input id="retNum" type="number" value="12" min="0" max="30" step="0.1" class="mt-2 w-full p-3 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500" />
      <input id="retRng" type="range" min="0" max="30" step="0.1" value="12" class="mt-2 w-full" />
    </div>
    <div id="result" class="bg-emerald-100 p-4 rounded-lg text-gray-800 font-medium">
      Invested: ₹0<br>
      Estimated Value: ₹0<br>
      Estimated Gain: ₹0
    </div>
  </section>

  <!-- Output -->
  <section class="lg:col-span-3">
    <div class="border-b border-gray-200">
      <nav class="flex -mb-px space-x-4">
        <button data-tab="table" class="tab-btn py-3 px-6 text-lg font-medium text-emerald-600 border-b-2 border-emerald-600">Table</button>
        <button data-tab="chart" class="tab-btn py-3 px-6 text-lg font-medium text-gray-500 hover:text-emerald-600 border-b-2 border-transparent">Chart</button>
      </nav>
    </div>
    <div id="tab-content" class="pt-6">
      <div id="table" class="tab-panel">
        <div class="overflow-x-auto bg-white rounded-lg shadow">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-emerald-50">
              <tr>
                <th class="px-4 py-2 text-left text-sm font-semibold text-gray-700">Period</th>
                <th class="px-4 py-2 text-right text-sm font-semibold text-gray-700">Invested</th>
                <th class="px-4 py-2 text-right text-sm font-semibold text-gray-700">Cumulative</th>
                <th class="px-4 py-2 text-right text-sm font-semibold text-gray-700">Gain</th>
                <th class="px-4 py-2 text-right text-sm font-semibold text-gray-700">Value</th>
              </tr>
            </thead>
            <tbody id="dataTableBody" class="divide-y divide-gray-100"></tbody>
          </table>
        </div>
      </div>
      <div id="chart" class="tab-panel hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-white p-4 rounded-lg shadow"><canvas id="barChart"></canvas></div>
          <div class="bg-white p-4 rounded-lg shadow"><canvas id="pieChart"></canvas></div>
        </div>
      </div>
    </div>
  </section>
</main>

  </div>  <script>
    // DOM refs
    const btnMo = document.getElementById('btnMo'),
          btnYr = document.getElementById('btnYr'),
          countNum = document.getElementById('countNum'), countRng = document.getElementById('countRng'),
          amtNum = document.getElementById('amtNum'), amtRng = document.getElementById('amtRng'),
          retNum = document.getElementById('retNum'), retRng = document.getElementById('retRng'),
          countLabel = document.getElementById('countLabel'), amountLabel = document.getElementById('amountLabel'),
          resultDiv = document.getElementById('result'), dataBody = document.getElementById('dataTableBody');
    let mode = 'mo';

    // Setup charts
    const barChart = new Chart(document.getElementById('barChart').getContext('2d'), {
      type: 'bar', data: { labels: [], datasets: [
        { label: 'Invested', data: [], backgroundColor: 'rgba(4,120,87,0.8)' },
        { label: 'Gain', data: [], backgroundColor: 'rgba(217,119,6,0.8)' }
      ]}, options: { responsive: true, scales: { y: { beginAtZero: true, title: { display: true, text: 'Amount (₹)' } } }}
    });
    const pieChart = new Chart(document.getElementById('pieChart').getContext('2d'), {
      type: 'pie', data: { labels: ['Invested','Gain'], datasets:[{ data:[], backgroundColor:['#047857','#d97706'] }]}, options:{ responsive:true }
    });

    function syncInputs(num, rng) {
      rng.addEventListener('input', ()=>{ num.value=rng.value; calculate(); });
      num.addEventListener('input', ()=>{ rng.value=num.value; calculate(); });
    }
    [[countNum,countRng],[amtNum,amtRng],[retNum,retRng]].forEach(syncInputs);

    // Mode toggle
    btnMo.addEventListener('click', ()=>{ if(mode==='yr'){ mode='mo'; toggleMode(); }});
    btnYr.addEventListener('click', ()=>{ if(mode==='mo'){ mode='yr'; toggleMode(); }});

    function toggleMode(){
      const isMo = mode==='mo';
      btnMo.classList.toggle('bg-yellow-500',isMo);
      btnMo.classList.toggle('bg-white',!isMo);
      btnYr.classList.toggle('bg-yellow-500',!isMo);
      btnYr.classList.toggle('bg-white',isMo);

      if(isMo){ countRng.max=360; countNum.max=360; countLabel.textContent='Months'; amountLabel.textContent='Month (₹)'; }
      else{ countRng.max=50; countNum.max=50; countLabel.textContent='Years'; amountLabel.textContent='Year (₹)'; }
      calculate();
    }

    function calculate(){
      const periods = +countRng.value,
            amt = +amtRng.value,
            rate = +retRng.value/100/(mode==='mo'?12:1),
            investedArr=[], gainArr=[], labels=[];
      let balance=0;
      for(let i=1;i<=periods;i++){
        balance = (balance+amt)*(1+rate);
        investedArr.push(amt*i);
        gainArr.push(Math.floor(balance-amt*i));
        labels.push(mode==='mo'?i+' mo':i+' yr');
      }
      // Update result
      const totalInv=amt*periods, totalVal=balance, totalGain=totalVal-totalInv;
      resultDiv.innerHTML=`Invested: ₹${totalInv.toLocaleString()}<br>Estimated Value: ₹${Math.floor(totalVal).toLocaleString()}<br>Gain: ₹${Math.floor(totalGain).toLocaleString()}`;
      // Update table
      dataBody.innerHTML=''; balance=0;
      for(let i=1;i<=periods;i++){ balance=(balance+amt)*(1+rate); const row=dataBody.insertRow(); [labels[i-1],`₹${amt}`,`₹${amt*i}`,`₹${Math.floor((balance-amt*i)- (gainArr[i-1]-Math.floor((balance-amt*i)-gainArr[i-1])))}`,`₹${Math.floor(balance)}`].forEach(txt=>{const cell=row.insertCell(); cell.textContent=txt; cell.className='px-2 py-1 text-center text-sm'; }); }
      // Update charts
      barChart.data.labels=labels; barChart.data.datasets[0].data=investedArr; barChart.data.datasets[1].data=gainArr; barChart.update();
      pieChart.data.datasets[0].data=[totalInv,totalGain]; pieChart.update();
    }
    // Tabs
    document.querySelectorAll('.tab-btn').forEach(btn=>btn.addEventListener('click',()=>{ document.querySelectorAll('.tab-btn').forEach(b=>b.classList.replace('text-emerald-600','text-gray-500') ); btn.classList.replace('text-gray-500','text-emerald-600'); panels=document.querySelectorAll('.tab-panel'); panels.forEach(p=>p.classList.add('hidden')); document.getElementById(btn.dataset.tab).classList.remove('hidden'); }));

    // Init
    toggleMode();
  </script></body>
</html>